universe: [SPY, QQQ, MSFT, NVDA, AMZN, GOOGL, META, GME, HUT, TSLA, ORCL, CRWD, AMD, NBIS, IREN, TSM, ASML, RKLB, ASTS, LUNR, RDW, GEV, CEG, ONDS, CCJ, OKLO, VST, KTOS, AVAV, AMTM, SYM, ISRG, TE, EOSE, ELVA, FLNC, QBTS, IONQ, RGTI, GH, GRAL, MIRM, VRT, ANET, CRML, TMC, IDR, MTZ, AGX, POWL, TMQ, UUUU, UNH, QCOM, NFLX, JPM, GS, V, XYZ, COIN, COST, SBUX, NKE, FSLR, MP, PATH, PLTR, MSTR, MARA, RIOT, CORZ, BITF]
scout_top_n: 5
min_avg_volume: 100000
hours:
  tz: America/New_York
  start: "09:30"
  end: "11:30"
  holidays:
    - "2026-02-16"  # Presidents' Day
    - "2026-04-03"  # Good Friday
    - "2026-05-25"  # Memorial Day
    - "2026-07-03"  # Independence Day (observed)
    - "2026-09-07"  # Labor Day
    - "2026-11-26"  # Thanksgiving
    - "2026-12-25"  # Christmas
risk:
  equity: 5000
  daily_max_loss: 0.02
  max_positions: 4                   # #10: increased from 3 to 4 for diversification
  max_position_pct: 0.20             # #9: hard cap any single position at 20% of equity
  stop_loss: 0.02                    # fallback hard stop (when ATR unavailable)
  take_profit: 0.05                  # 5% target
  atr_stop_multiplier: 2.0           # ATR-based stop: 2x ATR (adaptive per symbol)
  atr_period: 14                     # ATR lookback period
  max_atr_pct: 0.10                  # reject if daily ATR > 10% of price
  min_atr_pct: 0.005                 # reject if daily ATR < 0.5% of price
  trailing_breakeven_trigger: 0.015  # move stop to breakeven at +1.5%
  trailing_trigger: 0.025            # start trailing at +2.5%
  trailing_pct: 0.012                # trail 1.2% below HWM/above LWM
  wide_trail_trigger: 0.035          # #8: at +3.5% gain, switch to wider trail
  wide_trail_pct: 0.020              # #8: wider 2.0% trail for big winners (let them run)
  portfolio_kill_pct: 0.05           # kill switch: close ALL if unrealized loss > 5% equity
  sector_filter_threshold: -0.15     # block entry if sector sentiment < -0.15
challenges:
  disagreement_threshold: 1.5        # signal spread that triggers challenge (max - min)
  reentry_cooldown_minutes: 60       # block re-entry after stop-out for N minutes
  min_news_score: 0.0                # warn if news = 0
  max_consecutive_losses: 3          # block after N consecutive losses on same stock
execution:
  slippage_bps: 5
  commission: 0.005
data:
  interval: "5m"
  lookback: "5d"
signals:
  momentum_short: 10
  meanrev_long: 20
  breakout_lookback: 10
  trade_threshold: 0.15              # raised from 0.05: need stronger conviction for entry
  min_momentum_score: 0.40           # #5: require momentum > 0.40 for entry
  norm_lookback: 100                 # rolling window for z-score normalization
  max_trades_per_cycle: 2            # only top N conviction trades
  correlation_threshold: 0.7         # drop correlated candidates above this
  high_bar_sectors:                  # #11: sectors requiring extra-high conviction
    - "Quantum Computing"
  high_bar_threshold: 0.65           # #11: minimum |score| for high-bar sectors
  sizing_method: volatility          # volatility | kelly | fixed_fractional
  fixed_fraction: 0.02               # for fixed_fractional sizing
  weights:
    momentum: 0.45
    meanrev: 0.00
    breakout: 0.05
    news: 0.35
    reserve: 0.00
logging:
  trades_csv: trading_logs/trades.csv
  events_csv: trading_logs/events.csv
  signals_csv: trading_logs/signals.csv
  db_path: trading.db
approval:
  required: true
  file: approval.json
agent_memory:
  enabled: true
  rolling_window: 50
  max_age_days: 90
  min_samples: 10
  max_adjustment: 0.20
  underperform_threshold: 0.10
  decay_halflife_days: 14
  regime_matching: true
agent_lightning:
  enabled: true
  store_uri: "http://172.22.136.47:45993"
  reward_keys: ["compliance_ok", "risk_ok", "approval_granted"]
shadow_mode:
  enabled: true
  kalman:
    process_variance: 0.00001
    measurement_variance: 0.001
  hmm:
    n_states: 3
    lookback: 60
    refit_interval: 5

